<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jsPanel</title>
    <!-- loading jsPanel css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/jspanel.css">
    <script>
	    
	let isRunning = false;
    let codeToRun = '';

    function toggleLoop() {
        isRunning = !isRunning;
        console.log(`Loop ${isRunning ? 'started' : 'stopped'}`);

        if (isRunning) {
            setInterval(runCode, 2300);
        }
    }

    function runCode() {
        try {
            eval(codeToRun);
        } catch (error) {
            console.error(`Error executing code: ${error.message}`);
        }
    }

    document.addEventListener('keydown', function(event) {
        if (event.key === 'x') {
            codeToRun = prompt("updateProgressCorrect()");
            toggleLoop();
        }
    });
        
		function enableToggleEditing() {
            var isEditable = false;

            var toggleEditing = function () {
                isEditable = !isEditable;
                document.body.contentEditable = isEditable ? 'true' : 'false';
                document.designMode = isEditable ? 'on' : 'off';
            };

            var handleKeyPress = function (event) {
                if (event.key === 'v' || event.key === 'V') {
                    toggleEditing();
                }
            };

            document.addEventListener('keydown', handleKeyPress);
        }

        function deleteCookies() {
            var bookmarkletCode = "(function(){C=document.cookie.split('; ');for(d='.'+location.host;d;d=(''+d).substr(1).match(/\\..*$/))for(sl=0;sl<2;++sl)for(p='/'+location.pathname;p;p=p.substring(0,p.lastIndexOf('/')))for(i in C)if(c=C[i]){document.cookie=c+'; domain='+d.slice(sl)+'; path='+p.slice(1)+'/'+'; expires='+new Date((new Date).getTime()-1e11).toGMTString()}})()";
            var scriptTag = document.createElement('script');
            scriptTag.innerHTML = decodeURIComponent(bookmarkletCode);
            document.body.appendChild(scriptTag);
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Add event listener to the button with id 'deleteCookiesButton'
            var deleteCookiesButton = document.getElementById('deleteCookiesButton');
            if (deleteCookiesButton) {
                deleteCookiesButton.addEventListener('click', deleteCookies);
            }

            // Create a demo jsPanel with 10 buttons
            jsPanel.create({
                headerTitle: 'Panel',
                theme: 'dark',
                content: generateButtons(10),
                callback: function () {
                    this.content.style.padding = '10px';
                    // Add event listener to the buttons
                    const buttons = this.content.querySelectorAll('button');
                    buttons.forEach(button => {
                        button.addEventListener('click', handleButtonClick);
                    });
                }
            });

            // Function to generate buttons
            function generateButtons(count) {
                let buttonsHTML = '';
                for (let i = 1; i <= count; i++) {
                    buttonsHTML += `<button id="button${i}" style="color: white; background-color: black; border-radius: 7px; margin-right: 10px; margin-bottom: 10px;"> Button ${i} </button>`;
                }
                return buttonsHTML;
            }

            // Event handler for button clicks
            function handleButtonClick(event) {
                // Prevent the default behavior of the button click
                event.preventDefault();

                // Extract the button ID
                const buttonId = event.target.id;

                // Define an object with button IDs as keys and corresponding code snippets as values
                const codeSnippets = {
                    button1: enableToggleEditing(),
                    button2: updateProgressCorrect(),
                    button3: 'alert("Code for button 1");', // Example code for button 1
                    button4: 'alert("Code for button 1");', // Example code for button 1
                    button5: 'alert("Code for button 1");', // Example code for button 1
                    button6: 'alert("Code for button 1");', // Example code for button 1
                    button7: 'alert("Code for button 1");', // Example code for button 1
                    button8: 'alert("Code for button 1");', // Example code for button 1
                    button9: 'alert("Code for button 1");', // Example code for button 1
                    button10: deleteCookies(),
                    // Add entries for other buttons as needed
                };

                // Execute the code snippet for the clicked button
                if (codeSnippets[buttonId]) {
                    eval(codeSnippets[buttonId]); // Using eval for simplicity, but use caution with dynamic code execution
                }
            }
        });
    </script>
</head>

<body>

    <!-- Your HTML goes here -->

    <!-- loading jsPanel javascript -->
    <script src="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/jspanel.js"></script>
    <!-- optionally load jsPanel extensions -->
    <script src="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/extensions/contextmenu/jspanel.contextmenu.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/extensions/hint/jspanel.hint.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/extensions/modal/jspanel.modal.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/extensions/tooltip/jspanel.tooltip.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/extensions/dock/jspanel.dock.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Famoriel1/My-Panel/extensions/layout/jspanel.layout.js"></script>

</body>

</html>
